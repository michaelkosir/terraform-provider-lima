---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "lima_instance Resource - lima"
subcategory: ""
description: |-
  Lima instance resource. Creates and manages a lightweight VM using limactl.
---

# lima_instance (Resource)

Lima instance resource. Creates and manages a lightweight VM using limactl.

## Example Usage

```terraform
# Basic Lima instance with default Ubuntu template
resource "lima_instance" "default" {
  name = "default"
}

# Lima instance with Docker template
resource "lima_instance" "docker" {
  name     = "docker"
  template = "docker"
}

# Lima instance with custom resources
resource "lima_instance" "custom" {
  name   = "custom"
  cpus   = 4
  memory = 8
  disk   = 50
}

# Lima instance with advanced configuration
resource "lima_instance" "advanced" {
  name       = "advanced"
  template   = "ubuntu"
  cpus       = 2
  memory     = 4
  disk       = 30
  vm_type    = "qemu"
  containerd = "user"

  mount = [
    "/Users/myuser/projects:w",
    "/tmp"
  ]

  mount_type     = "reverse-sshfs"
  mount_writable = false

  network = [
    "lima:shared"
  ]
}

# Lima instance with plain mode (minimal features)
resource "lima_instance" "plain" {
  name   = "plain"
  plain  = true
  cpus   = 2
  memory = 2
}

# Lima instance from remote URL (use with caution)
resource "lima_instance" "remote" {
  name     = "alpine"
  template = "https://raw.githubusercontent.com/lima-vm/lima/master/templates/alpine.yaml"
  cpus     = 2
  memory   = 2
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the Lima instance. If not specified, defaults to 'default'.

### Optional

- `arch` (String) Machine architecture (x86_64, aarch64, riscv64, armv7l, s390x, ppc64le).
- `containerd` (String) Containerd mode (user, system, user+system, none).
- `cpus` (Number) Number of CPUs to allocate to the instance.
- `disk` (Number) Disk size in GiB.
- `disks` (Block List) Additional disks to attach to the instance. Each disk must have a name and mount point. (see [below for nested schema](#nestedblock--disks))
- `dns` (List of String) Custom DNS servers (disables host resolver).
- `memory` (Number) Memory in GiB.
- `mount` (List of String) Directories to mount. Suffix ':w' for writable. Do not specify directories that overlap with existing mounts.
- `mount_inotify` (Boolean) Enable inotify for mounts.
- `mount_none` (Boolean) Remove all mounts.
- `mount_type` (String) Mount type (reverse-sshfs, 9p, virtiofs).
- `mount_writable` (Boolean) Make all mounts writable.
- `network` (List of String) Additional networks, e.g., 'vzNAT' or 'lima:shared' to assign vmnet IP.
- `plain` (Boolean) Plain mode. Disables mounts, port forwarding, containerd, etc.
- `rosetta` (Boolean) Enable Rosetta (for vz instances on macOS).
- `template` (String) Template to use for the instance. Can be a template name (e.g., 'docker'), local file path, or URL. If not specified, uses the default Ubuntu template.
- `video` (Boolean) Enable video output (has negative performance impact for QEMU).
- `vm_type` (String) Virtual machine type (qemu, vz).

### Read-Only

- `id` (String) Instance identifier (same as name).

<a id="nestedblock--disks"></a>
### Nested Schema for `disks`

Required:

- `mount_point` (String) Mount point for the additional disk (e.g., '/mnt/data').
- `name` (String) Name of the additional disk to attach.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Import existing Lima instances into Terraform

# If you have an existing Lima instance created outside of Terraform,
# you can import it into your Terraform state.

# First, create the resource configuration without applying:
resource "lima_instance" "existing" {
  name = "my-existing-instance"
  # Add other known configuration attributes
  # Note: Some attributes may not be fully recoverable during import
}

# Then import the instance:
# terraform import lima_instance.existing my-existing-instance

# After import, run terraform plan to see if there are any differences
# between your configuration and the actual instance state.
```
